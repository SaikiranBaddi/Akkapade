<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>‡≤Ö‡≤ï‡≥ç‡≤ï ‡≤™‡≤°‡≥Ü - Akka Pade Emergency Portal</title>
<script src="https://cdn.tailwindcss.com"></script>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Noto+Sans+Kannada:wght@500;700&display=swap" rel="stylesheet">
<link rel="icon" href="The-Karnataka-Government-Kannada-Logo-Vector.svg-.png" type="image/x-icon">
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
<style>
body { font-family: 'Inter', 'Noto Sans Kannada', sans-serif; background: linear-gradient(135deg, #e0f2fe 0%, #bfdbfe 100%); min-height: 100vh; }
.card { border-radius:1rem; box-shadow:0 4px 12px rgba(10,40,80,0.08); border:1px solid #e2e8f0; background: rgba(255,255,255,0.98);}
.btn { border-radius:0.75rem; padding:0.75rem 1.25rem; font-weight:700; transition: transform 0.1s; box-shadow:0 2px 4px rgba(0,0,0,0.1);}
.btn:hover { transform: translateY(-1px); box-shadow:0 4px 8px rgba(0,0,0,0.15);}
.language-toggle { position: relative; width: 50px; height:26px; background:#bfdbfe; border-radius:13px; cursor:pointer; transition:all 0.3s ease; border:1px solid #93c5fd;}
.language-toggle::before { content:''; position:absolute; top:2px; left:2px; width:22px; height:22px; background:white; border-radius:50%; transition:all 0.3s ease; box-shadow:0 1px 3px rgba(0,0,0,0.2);}
.language-toggle.active::before { transform: translateX(22px);}
.language-toggle::after { content:'‡≤ï'; position:absolute; top:50%; left:6px; transform:translateY(-50%); color:#1e40af; font-size:10px; font-weight:bold;}
.language-toggle.active::after { content:'EN'; left:28px; font-size:10px;}
.record-timer { font-weight:bold; color:black; font-size:1rem; margin-top:5px; }
.modal-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.6); display: flex; justify-content: center; align-items: center; z-index: 100; opacity: 0; transition: opacity 0.3s ease-in-out; pointer-events: none; }
.modal-overlay.visible { opacity: 1; pointer-events: auto; }
.modal-content { background-color: white; padding: 2rem; border-radius: 1rem; text-align: center; max-width: 90%; width: 400px; box-shadow: 0 10px 25px rgba(0,0,0,0.2); }
</style>
</head>
<body class="flex flex-col items-center justify-start min-h-screen p-4">

<nav class="w-full max-w-4xl bg-white/30 backdrop-blur-sm rounded-2xl shadow-lg p-4 flex items-center justify-between mb-6">
  <div class="flex items-center gap-4">
    <img src="The-Karnataka-Government-Kannada-Logo-Vector.svg-.png" alt="Karnataka Emblem" class="w-10 h-10 rounded bg-white p-1">
    <div>
      <div class="text-sm font-semibold text-gray-800" id="navTitle">AKKAPADE</div>
      <div class="text-xs text-gray-600" id="navSubtitle">Emergency Response System</div>
    </div>
  </div>
  <div class="flex items-center gap-3">
    <div class="language-toggle" id="languageToggle" onclick="toggleLanguage()"></div>
  </div>
</nav>

<header class="card p-6 mb-6 w-full max-w-4xl">
  <h1 class="text-2xl font-bold text-gray-800 text-center" id="mainHeading">‡≤Ö‡≤ï‡≥ç‡≤ï ‡≤™‡≤°‡≥Ü - Emergency Report</h1>
  <p class="text-gray-600 text-center mt-1" id="subtitle">Emergency Safety Portal</p>
</header>

<div class="w-full max-w-4xl bg-white rounded-2xl shadow-2xl overflow-hidden mb-8">
<main class="p-6 sm:p-8 space-y-5">
<a href="/" class="btn bg-gray-500 text-white flex items-center gap-2 w-max text-sm mb-6">
  <i class="fa-solid fa-arrow-left"></i>
  <span id="back-btn">Back to Main</span>
</a>

<form id="dataForm" enctype="multipart/form-data" class="space-y-6">

<!-- Name -->
<div class="card p-5">
<label class="font-semibold text-gray-800 flex items-center mb-2" id="nameLabel">üë§ Name (Mandatory)</label>
<input type="text" name="name" id="name" placeholder="Enter your full name" class="w-full p-3 border border-gray-300 rounded-lg focus:border-blue-500 focus:ring-1 focus:ring-blue-500" required>
</div>

<!-- Location -->
<div class="card p-5">
<label class="font-semibold text-gray-800 flex items-center mb-2" id="locationLabel">üìç Location (Required)</label>
<p class="text-sm text-gray-600 mb-3" id="locationDesc">Your location is required for emergency services</p>
<div class="flex flex-col sm:flex-row sm:space-x-4 space-y-3 sm:space-y-0">
  <button type="button" id="getLocationBtn" class="btn bg-blue-600 text-white flex-1 hover:bg-blue-700 text-sm">Get My Location</button>
  <button type="button" id="manualBtn" class="btn bg-gray-600 text-white flex-1 hover:bg-gray-700 text-sm">Enter Manually</button>
</div>
<p id="locationStatus" class="text-sm text-red-500 mt-3 flex items-center"><i class="fas fa-times-circle mr-2"></i> ‚ùå Location not captured</p>
<input type="hidden" name="latitude">
<input type="hidden" name="longitude">
</div>

<!-- Emergency Text -->
<div class="card p-5" id="textSection">
<label class="font-semibold text-gray-800 flex items-center mb-2" id="messageLabel">üìù Emergency Message</label>
<textarea name="text" id="emergency-textarea" class="w-full p-3 border border-gray-300 rounded-lg resize-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500" rows="4" placeholder="Describe your emergency..." required></textarea>
<p class="text-sm text-gray-500 mt-2" id="messageDesc">Only letters, numbers, and spaces allowed.</p>
</div>

<!-- Phone Number -->
<div class="card p-5">
<label class="font-semibold text-gray-800 flex items-center mb-2" id="phoneLabel">üìû Phone Number (Mandatory)</label>
<input type="text" name="phone" id="phone" placeholder="e.g., 9876543210" class="w-full p-3 border border-gray-300 rounded-lg focus:border-blue-500 focus:ring-1 focus:ring-blue-500" maxlength="10" pattern="[0-9]{10}" inputmode="numeric" required oninput="this.value = this.value.replace(/[^0-9]/g, '');">
<p class="text-sm text-gray-500 mt-2" id="phoneDesc">Must be exactly 10 digits.</p>
</div>

<!-- Voice Recorder -->
<div id="voiceSection" class="card p-5 hidden">
<label class="font-semibold text-gray-800 flex items-center mb-2" id="voiceLabel">üéôÔ∏è Voice Recording (Max 30s)</label>
<div class="flex space-x-3">
  <button type="button" id="startBtn" class="btn bg-green-600 text-white hover:bg-green-700 text-sm">Start Recording</button>
  <button type="button" id="stopBtn" class="btn bg-red-600 text-white hover:bg-red-700 text-sm" disabled>Stop Recording</button>
</div>
<p id="recordingStatus" class="text-sm text-gray-500 mt-2">Ready to record</p>
<p id="voiceDuration" class="record-timer">Duration: 0s</p>
</div>

<!-- Video Recorder -->
<div id="videoSection" class="card p-5 hidden">
<label class="font-semibold text-gray-800 flex items-center mb-2" id="videoLabel">üé• Video Recording (Max 30s)</label>
<video id="videoPreview" autoplay muted class="w-full h-48 bg-black rounded-lg mb-3"></video>
<div class="flex space-x-3">
  <button type="button" id="startVideoBtn" class="btn bg-green-600 text-white hover:bg-green-700 text-sm">Start Video</button>
  <button type="button" id="stopVideoBtn" class="btn bg-red-600 text-white hover:bg-red-700 text-sm" disabled>Stop Video</button>
</div>
<p id="videoStatus" class="text-sm text-gray-500 mt-2">Ready to record video</p>
<p id="videoDuration" class="record-timer">Duration: 0s</p>
</div>

<!-- Submit -->
<button type="submit" id="submit-btn" class="btn bg-blue-700 text-white py-3 w-full hover:bg-blue-800">
üö® Submit Emergency Report
</button>

</form>
</main>
</div>

<footer class="w-full max-w-4xl mt-8 text-center rounded-2xl p-6 text-gray-700 text-sm">
<p class="font-semibold" id="footerText">Karnataka Government Emergency Services ‚Äî AkkaPade</p>
<p class="text-xs text-gray-500 mt-1" id="footerSub">Your safety is our priority</p>
</footer>

<!-- Success/Error Popups -->
<div id="successPopup" class="modal-overlay">
  <div class="modal-content">
    <i class="fa-solid fa-check-circle text-green-600 text-5xl mb-4"></i>
    <h3 id="popup-title" class="text-2xl font-bold text-gray-800 mb-2">Submission Successful!</h3>
    <p id="popup-message" class="text-gray-600 mb-4">Your emergency report has been sent.</p>
    <button id="closePopupBtn" class="btn bg-blue-600 text-white px-6 py-2">Close</button>
  </div>
</div>

<div id="errorPopup" class="modal-overlay">
  <div class="modal-content">
    <i class="fa-solid fa-triangle-exclamation text-red-600 text-5xl mb-4"></i>
    <h3 id="error-title" class="text-2xl font-bold text-gray-800 mb-2">Submission Failed!</h3>
    <p id="error-message" class="text-gray-600 mb-4">An error occurred.</p>
    <button id="closeErrorPopupBtn" class="btn bg-red-600 text-white px-6 py-2">Close</button>
  </div>
</div>

<script>
// ===== Language Toggle =====
let isKannada = true;
function toggleLanguage(){
    isKannada = !isKannada;
    document.getElementById('languageToggle').classList.toggle('active');

    if(isKannada){
        document.getElementById('mainHeading').textContent = "‡≤Ö‡≤ï‡≥ç‡≤ï ‡≤™‡≤°‡≥Ü - Emergency Report";
        document.getElementById('subtitle').textContent = "Emergency Safety Portal";
        document.getElementById('navTitle').textContent = "AKKAPADE";
        document.getElementById('navSubtitle').textContent = "Emergency Response System";
        document.getElementById('nameLabel').textContent = "üë§ ‡≤π‡≥Ü‡≤∏‡≤∞‡≥Å (‡≤Ö‡≤µ‡≤∂‡≥ç‡≤Ø‡≤ï)";
        document.getElementById('locationLabel').textContent = "üìç ‡≤∏‡≥ç‡≤•‡≤≥ (‡≤Ö‡≤µ‡≤∂‡≥ç‡≤Ø‡≤ï)";
        document.getElementById('locationDesc').textContent = "‡≤§‡≥Å‡≤∞‡≥ç‡≤§‡≥Å ‡≤∏‡≥á‡≤µ‡≥Ü‡≤ó‡≤≥‡≤ø‡≤ó‡≥Ü ‡≤®‡≤ø‡≤Æ‡≥ç‡≤Æ ‡≤∏‡≥ç‡≤•‡≤≥ ‡≤Ö‡≤ó‡≤§‡≥ç‡≤Ø‡≤µ‡≤ø‡≤¶‡≥Ü";
        document.getElementById('messageLabel').textContent = "üìù ‡≤§‡≥Å‡≤∞‡≥ç‡≤§‡≥Å ‡≤∏‡≤Ç‡≤¶‡≥á‡≤∂";
        document.getElementById('messageDesc').textContent = "‡≤ï‡≥Ü‡≤≤‡≤µ‡≥Å ‡≤µ‡≤ø‡≤∂‡≥á‡≤∑ ‡≤Ö‡≤ï‡≥ç‡≤∑‡≤∞‡≤ó‡≤≥‡≥Å ‡≤Ö‡≤•‡≤µ‡≤æ ‡≤á‡≤Æ‡≥ã‡≤ú‡≤ø‡≤ó‡≤≥‡≥Å ‡≤Ö‡≤®‡≥Å‡≤Æ‡≤§‡≤ø‡≤∏‡≤≤‡≤æ‡≤ó‡≥Å‡≤µ‡≥Å‡≤¶‡≤ø‡≤≤‡≥ç‡≤≤";
        document.getElementById('phoneLabel').textContent = "üìû ‡≤´‡≥ã‡≤®‡≥ç ‡≤∏‡≤Ç‡≤ñ‡≥ç‡≤Ø‡≥Ü (‡≤Ö‡≤µ‡≤∂‡≥ç‡≤Ø‡≤ï)";
        document.getElementById('phoneDesc').textContent = "‡≤ñ‡≤ö‡≤ø‡≤§‡≤µ‡≤æ‡≤ó‡≤ø 10 ‡≤Ö‡≤Ç‡≤ï‡≤ø‡≤ó‡≤≥ ‡≤∏‡≤Ç‡≤ñ‡≥ç‡≤Ø‡≥Ü‡≤Ø‡≤®‡≥ç‡≤®‡≥Å ‡≤®‡≤Æ‡≥Ç‡≤¶‡≤ø‡≤∏‡≤ø";
        document.getElementById('voiceLabel').textContent = "üéôÔ∏è ‡≤ß‡≥ç‡≤µ‡≤®‡≤ø ‡≤¶‡≤æ‡≤ñ‡≤≤‡≥Ü (‡≤ó‡≤∞‡≤ø‡≤∑‡≥ç‡≤ü 30 ‡≤∏‡≥Ü‡≤ï‡≥Ü‡≤Ç‡≤°‡≥Å‡≤ó‡≤≥‡≥Å)";
        document.getElementById('videoLabel').textContent = "üé• ‡≤µ‡≥Ä‡≤°‡≤ø‡≤Ø‡≥ã ‡≤¶‡≤æ‡≤ñ‡≤≤‡≥Ü (‡≤ó‡≤∞‡≤ø‡≤∑‡≥ç‡≤ü 30 ‡≤∏‡≥Ü‡≤ï‡≥Ü‡≤Ç‡≤°‡≥Å‡≤ó‡≤≥‡≥Å)";
        document.getElementById('footerText').textContent = "‡≤ï‡≤∞‡≥ç‡≤®‡≤æ‡≤ü‡≤ï ‡≤∏‡≤∞‡≥ç‡≤ï‡≤æ‡≤∞ ‡≤§‡≥Å‡≤∞‡≥ç‡≤§‡≥Å ‡≤∏‡≥á‡≤µ‡≥Ü‡≤ó‡≤≥‡≥Å ‚Äî ‡≤Ö‡≤ï‡≥ç‡≤ï ‡≤™‡≤°‡≥Ü‡≤Ø‡≥ã";
        document.getElementById('footerSub').textContent = "‡≤®‡≤ø‡≤Æ‡≥ç‡≤Æ ‡≤∏‡≥Å‡≤∞‡≤ï‡≥ç‡≤∑‡≤§‡≥Ü ‡≤®‡≤Æ‡≥ç‡≤Æ ‡≤Ü‡≤¶‡≥ç‡≤Ø‡≤§‡≥Ü";
        if(document.getElementById('back-btn')) document.getElementById('back-btn').textContent = "‡≤Æ‡≥Å‡≤ñ‡≥ç‡≤Ø ‡≤™‡≥Å‡≤ü‡≤ï‡≥ç‡≤ï‡≥Ü ‡≤π‡≤ø‡≤Ç‡≤¶‡≥Ü";
    } else {
        document.getElementById('mainHeading').textContent = "AkkaPade - Emergency Report";
        document.getElementById('subtitle').textContent = "Emergency Safety Portal";
        document.getElementById('navTitle').textContent = "AKKAPADE";
        document.getElementById('navSubtitle').textContent = "Emergency Response System";
        document.getElementById('nameLabel').textContent = "üë§ Name (Mandatory)";
        document.getElementById('locationLabel').textContent = "üìç Location (Required)";
        document.getElementById('locationDesc').textContent = "Your location is required for emergency services";
        document.getElementById('messageLabel').textContent = "üìù Emergency Message";
        document.getElementById('messageDesc').textContent = "Only letters, numbers, and spaces allowed.";
        document.getElementById('phoneLabel').textContent = "üìû Phone Number (Mandatory)";
        document.getElementById('phoneDesc').textContent = "Must be exactly 10 digits.";
        document.getElementById('voiceLabel').textContent = "üéôÔ∏è Voice Recording (Max 30s)";
        document.getElementById('videoLabel').textContent = "üé• Video Recording (Max 30s)";
        document.getElementById('footerText').textContent = "Karnataka Government Emergency Services ‚Äî Akka Pade";
        document.getElementById('footerSub').textContent = "Your safety is our priority";
        if(document.getElementById('back-btn')) document.getElementById('back-btn').textContent = "Back to Main";
    }
}

// ===== Mode detection =====
document.addEventListener('DOMContentLoaded', ()=>{
  const mode=new URLSearchParams(window.location.search).get('mode');
  if(mode==='voice') {
    document.getElementById('voiceSection').classList.remove('hidden');
    document.getElementById('textSection').style.display='none';
    document.getElementById('emergency-textarea').removeAttribute('required');
  }
  if(mode==='video') {
    document.getElementById('videoSection').classList.remove('hidden');
    document.getElementById('textSection').style.display='none';
    document.getElementById('emergency-textarea').removeAttribute('required');
  }
});

// ===== Location =====
const latitudeInput=document.querySelector('input[name="latitude"]');
const longitudeInput=document.querySelector('input[name="longitude"]');
document.getElementById('getLocationBtn').addEventListener('click', ()=>{
  if(!navigator.geolocation){ alert("Geolocation not supported"); return; }
  navigator.geolocation.getCurrentPosition(pos=>{
    latitudeInput.value=pos.coords.latitude; longitudeInput.value=pos.coords.longitude;
    document.getElementById('locationStatus').innerHTML=`<i class="fas fa-check-circle mr-2"></i> ‚úÖ Location: ${pos.coords.latitude.toFixed(6)}, ${pos.coords.longitude.toFixed(6)}`;
    document.getElementById('locationStatus').classList.remove('text-red-500');
    document.getElementById('locationStatus').classList.add('text-green-600');
  }, err=>{ alert("Unable to get location: "+err.message); });
});
document.getElementById('manualBtn').addEventListener('click', ()=>{
  const lat=prompt("Enter latitude:"); const lon=prompt("Enter longitude:");
  if(lat&&lon){ latitudeInput.value=lat; longitudeInput.value=lon; 
    document.getElementById('locationStatus').innerHTML=`<i class="fas fa-check-circle mr-2"></i> ‚úÖ Location manually set: ${lat}, ${lon}`;
    document.getElementById('locationStatus').classList.remove('text-red-500');
    document.getElementById('locationStatus').classList.add('text-green-600');
  }
});

// ===== Voice Recording =====
let audioBlob=null, mediaRecorder, audioTimer, audioSec=0;
document.getElementById('startBtn')?.addEventListener('click', async()=>{
  try{
    const stream=await navigator.mediaDevices.getUserMedia({audio:true});
    mediaRecorder=new MediaRecorder(stream);
    let chunks=[];
    mediaRecorder.ondataavailable=e=>chunks.push(e.data);
    mediaRecorder.onstop=()=>audioBlob=new Blob(chunks,{type:"audio/webm"});
    mediaRecorder.start();
    document.getElementById('recordingStatus').textContent="üé§ Recording...";
    document.getElementById('startBtn').disabled=true; document.getElementById('stopBtn').disabled=false;
    audioSec=0; document.getElementById('voiceDuration').textContent="Duration: 0s";
    audioTimer=setInterval(()=>{
      audioSec++;
      document.getElementById('voiceDuration').textContent=`Duration: ${audioSec}s`;
      if(audioSec>=30) document.getElementById('stopBtn').click();
    },1000);
  }catch(e){ document.getElementById('recordingStatus').textContent=`Microphone error: ${e.message}`;}
});
document.getElementById('stopBtn')?.addEventListener('click', ()=>{
  mediaRecorder.stop(); clearInterval(audioTimer);
  document.getElementById('recordingStatus').textContent="‚úÖ Recording saved";
  document.getElementById('startBtn').disabled=false; document.getElementById('stopBtn').disabled=true;
});

// ===== Video Recording =====
let videoBlob=null, videoRecorder, videoStream, videoTimer, videoSec=0;
document.getElementById('startVideoBtn')?.addEventListener('click', async()=>{
  try{
    videoStream=await navigator.mediaDevices.getUserMedia({video:true,audio:true});
    document.getElementById('videoPreview').srcObject=videoStream;
    videoRecorder=new MediaRecorder(videoStream);
    let chunks=[];
    videoRecorder.ondataavailable=e=>chunks.push(e.data);
    videoRecorder.onstop=()=>videoBlob=new Blob(chunks,{type:"video/webm"});
    videoRecorder.start();
    document.getElementById('videoStatus').textContent="üìπ Recording...";
    document.getElementById('startVideoBtn').disabled=true; document.getElementById('stopVideoBtn').disabled=false;
    videoSec=0; document.getElementById('videoDuration').textContent="Duration: 0s";
    videoTimer=setInterval(()=>{
      videoSec++; document.getElementById('videoDuration').textContent=`Duration: ${videoSec}s`;
      if(videoSec>=30) document.getElementById('stopVideoBtn').click();
    },1000);
  }catch(e){ document.getElementById('videoStatus').textContent=`Camera error: ${e.message}`;}
});
document.getElementById('stopVideoBtn')?.addEventListener('click', ()=>{
  videoRecorder.stop(); videoStream.getTracks().forEach(t=>t.stop()); clearInterval(videoTimer);
  document.getElementById('videoStatus').textContent="‚úÖ Video saved";
  document.getElementById('startVideoBtn').disabled=false; document.getElementById('stopVideoBtn').disabled=true;
});

// ===== Text Validation =====
document.getElementById('emergency-textarea').addEventListener('input', e=>{
  e.target.value=e.target.value.replace(/[^a-zA-Z0-9 ]/g,'');
});

// ===== Popup Functions =====
function showPopup(isError, message) {
  const popup = isError ? document.getElementById('errorPopup') : document.getElementById('successPopup');
  if (isError && message) {
    document.getElementById('error-message').textContent = message;
  }
  popup.classList.add('visible');
}

function hidePopup(isError) {
  const popup = isError ? document.getElementById('errorPopup') : document.getElementById('successPopup');
  popup.classList.remove('visible');
}

document.getElementById('closePopupBtn').addEventListener('click', () => hidePopup(false));
document.getElementById('closeErrorPopupBtn').addEventListener('click', () => hidePopup(true));

// ===== Form Submission =====
document.getElementById('dataForm').addEventListener('submit', async(e)=>{
  e.preventDefault();
  const name=document.getElementById('name').value.trim();
  const phone=document.getElementById('phone').value.trim();
  const text=document.getElementById('emergency-textarea')?.value.trim()||"";
  const latitude=latitudeInput.value, longitude=longitudeInput.value;

  if(!name||!phone||phone.length!==10){ 
    showPopup(true, "Name and valid 10-digit phone number required"); 
    return; 
  }
  if(!latitude||!longitude){ 
    showPopup(true, "Location is required"); 
    return; 
  }

  const formData=new FormData();
  formData.append('name',name); formData.append('phone',phone); formData.append('text',text);
  formData.append('latitude',latitude); formData.append('longitude',longitude);
  if(audioBlob) formData.append('voice',audioBlob,'voice.webm');
  if(videoBlob) formData.append('video',videoBlob,'video.webm');

  document.getElementById('submit-btn').textContent = "Submitting...";
  document.getElementById('submit-btn').disabled = true;

  try {
    const response = await fetch('/api/submit', {
      method: 'POST',
      body: formData
    });

    if (response.ok) {
      showPopup(false);
      document.getElementById('dataForm').reset();
      audioBlob=null; videoBlob=null;
      document.getElementById('voiceDuration').textContent="Duration: 0s";
      document.getElementById('videoDuration').textContent="Duration: 0s";
      document.getElementById('locationStatus').innerHTML='<i class="fas fa-times-circle mr-2"></i> ‚ùå Location not captured';
      document.getElementById('locationStatus').classList.remove('text-green-600');
      document.getElementById('locationStatus').classList.add('text-red-500');
    } else {
      showPopup(true, `Failed to submit report. Server response: HTTP ${response.status}`);
    }
  } catch (err) {
    showPopup(true, `Network error: ${err.message}`);
  } finally {
    document.getElementById('submit-btn').textContent = "üö® Submit Emergency Report";
    document.getElementById('submit-btn').disabled = false;
  }
});
</script>
</body>
</html>